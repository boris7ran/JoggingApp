{% extends 'base.html.twig' %}

{% block title %}User Records{% endblock %}

{% block body %}
    <h1>Records of user: {{ user.getUsername }}</h1>

    <table class="table table-stripped table-bordered table-hover" style="width: 50%">
        <thead class="thead-dark">
        <tr>
            <th width="10%">ID</th>
            <th width="25%">Distance</th>
            <th width="25%">Time</th>
            <th width="25%">Average Speed</th>
            <th width="15%">Actions</th>
        </tr>
        </thead>

        {% for record in user.getRecords %}
            <tr>
                <td>{{ record.getId }}</td>
                <td>{{ record.distance }} km</td>
                <td>{{ record.time }} sec</td>
                <td>{{ record.distance/record.time }}</td>
                <td><button><a href="{{ path('delete_record', {'id': record.getId}) }}">Delete</a></button></td>
            </tr>
        {% endfor %}
    </table>

    <form method="POST" action="{{ path('store_record', {'id': user.getId}) }}">

        <div class="form-group">
            <label for="date">Date</label>
            <input type="date" class="form-group" id="date" name="date">
        </div>

        <div class="form-group">
            <label for="distance">Distance</label>
            <input type="number" class="form-group" id="distance" name="distance">
        </div>

        <div class="form-group">
            <label for="time">Time</label>
            <input type="text" class="form-group" id="time" name="time">
        </div>

        <div class="form-group">
            <button type="submit" class="btn btn-primary">Submit Record</button>
        </div>
    </form>
{% endblock %}